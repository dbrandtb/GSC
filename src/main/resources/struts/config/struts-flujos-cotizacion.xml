<!DOCTYPE struts PUBLIC "-//Apache Software Foundation//DTD Struts Configuration 2.0//EN" "http://struts.apache.org/dtds/struts-2.0.dtd">
<struts>
    <include file="struts-default.xml" />
    
    <package name="flujocotizacion" extends="json-default" namespace="/flujocotizacion">
    
        <interceptors>
            <interceptor-stack name="defaultStack">
                <interceptor-ref name="exception" />
                <interceptor-ref name="alias" />
                <interceptor-ref name="servletConfig" />
                <interceptor-ref name="prepare" />
                <interceptor-ref name="i18n" />
                <interceptor-ref name="chain" />
                <interceptor-ref name="modelDriven" />
                <interceptor-ref name="fileUpload" />
                <interceptor-ref name="staticParams" />
                <interceptor-ref name="params" />
                <interceptor-ref name="conversionError" />
                <interceptor-ref name="validation">
                    <param name="excludeMethods">cancel,execute,delete,edit,list</param>
                </interceptor-ref>
                <interceptor-ref name="workflow">
                    <param name="excludeMethods">input,back,cancel</param>
                </interceptor-ref>
            </interceptor-stack>
        </interceptors>
        
        <action name="obtenCotizacion4" class="cotizacionVital" method="obtenerResultadosCotizacion">
            <result name="success" type="json" />
        </action>
        
        <action name="comprarCotizacion4" class="cotizacionVital" method="comprarCotizacion">
            <result name="success" type="json" />
        </action>
        
        <action name="resultadoCotizacionVital" class="cotizacionVital" method="cotizar">
            <interceptor-ref name="json">
                <param name="enableSMD">true</param>
                <param name="ignoreSMDMethodInterfaces">false</param>
            </interceptor-ref>
            <result name="success" type="json" />
            <!--<result  name="input">/jsp/flujos/cotizacion/resultCotizacion.jsp</result>-->
            <!--<result  name="error">/jsp/flujos/cotizacion/capturaCotizacion.jsp</result>-->
        </action>
        
        <!-- jtezva agregado -->
        <action name="obtenerCoberturas4" class="cotizacionVital" method="obtenerCoberturas">
            <result name="success" type="json" />
        </action>
        <action name="obtenerAyudaCoberturas4" class="cotizacionVital" method="obtenerAyudaCoberturas">
            <result name="success" type="json" />
        </action>
        <!-- jtezva agregado -->
        
        
        <!-- ######### Ejemplo de componentes de EXTJS #####################-->
        <action name="ejemploComponentes" class="cotizarAction" method="entrarEjemplo" >
              <result name="input">/jsp/flujos/cotizacion/componentesTest.jsp</result>
        </action>
        
        <action name="generaDataEjemplo" class="cotizarAction" method="generaDataEjemplo" >
            <result name="success" type="json" />
        </action>
        
        <action name="getDataEjemplo" class="cotizarAction" method="obtieneDataEjemplo" >
            <result name="success" type="json" />
        </action>
        
        <action name="cargarCatalogos" class="beanCatalogosAction" method="cargar">
          <result name="success" type="json" />
        </action>
        
        <!-- pantalla inicial -->
        <action name="principal" class="agentesAction" method="principal">
            <result name="success">/jsp/consultas/agentes/consultaAgentes.jsp</result>
        </action>
        
        <action name="consultaDatosPolizaAgente" class="agentesAction"
			method="obtieneAgentesPolizas">
			<result type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">
                    datosPolizaAgente.*,
                    success
                </param>
			</result>
		</action>

		 <action name="consultaGeneralAgente" class="agentesAction"
			method="obtieneTiposAgente">
			<result type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">
                    datosGeneralesAgente.*,
                    success
                </param>
			</result>
		</action>
                
		<action name="guardaPorcentajeAgentes" class="agentesAction" method="guardaPorcentajeAgentes">
	        <interceptor-ref name="json">
	            <param name="enableSMD">true</param>
	            <param name="ignoreSMDMethodInterfaces">false</param>
	        </interceptor-ref>
	        <result name="success" type="json"/>
		</action>
		
    </package>

</struts>