<!DOCTYPE struts PUBLIC "-//Apache Software Foundation//DTD Struts Configuration 2.0//EN" "http://struts.apache.org/dtds/struts-2.0.dtd">
<struts>
	<include file="struts-default.xml" />

	<package name="plan" extends="json-default" namespace="/planes">

		<!--
		Redireccionamiento de action a jsp 
		-->
		<action name="manttoPlanes" class="manttoAction">
			<result name="success">/jsp/planes/planes.jsp</result>
            <result name="input">/jsp/planes/planes.jsp</result>
        </action>
        
		<!-- 
		Configuracion del Action con tipo de respuesta JSON, esto generara a partir
		de los atributos la respuesta en formato JSON para el Reader de ExtJs 
		-->
		
		<action name="PlanesGrid" class="manttoAction" method="planesJson">
			<result name="success" type="json" />

		</action>
		<!--
		Configuracion del action para cargar todos los productos existentes en el
		combo con tipo de Respuesta Json 
		 -->
		<action name="ProductosLista" class="agregarPlanAction" method="obtieneProductos">			
            <result name="success" type="json"/>
		</action>
		<!--
		Configuracion del action para agregar un nuevo plan con tipo de Respuesta Json 
		 -->
		
		<action name="InsertaProductos" class="agregarPlanAction" method="insertaPlan">			            
            <result name="success" type="json"/>            
		</action>
		
		<!-- 
		Configuracion del Action para editar un producto con tipo de Respuesta Json
		 -->
		<action name="EditaProductos" class="agregarPlanAction" method="editaPlan">                        
            <result name="success" type="json"/>
        </action>
        <!--
        Configuracion del Action para obtener un plan con tipo de Respuesta Json. 
         -->
		<action name="obtienePlan" class="agregarPlanAction" method="obtienePlan">
            <result name="success" type="json"/>
        </action>
        <!--
        Configuracion del Action para copiar un plan con tipo de Respuesta Json. 
         -->
         <action name="copiaPlan" class="manttoAction" method="copiarPlanes">
         	<result name="success" type="json"/>
         </action>
         <!--
         Configuracion del Action para borrar un plan con tipo de Respuesta Json. 
          -->
         <action name="borraPlan" class="manttoAction" method="borrarPlanes">
         	<result name="success" type="json"/>
         </action>
         <!--
         configuracion del Action para exportar los planes a distintos formatos. 
          -->
		<action name="exportPlan" class="exportPlanAction">
			<result name="success" type="stream">
				<param name="contentType">${contentType}</param>
				<param name="inputName">inputStream</param>
				<param name="contentDisposition">filename="${filename}"</param>
				<param name="bufferSize">4568</param>
			</result>
		</action>
	</package>

</struts>


