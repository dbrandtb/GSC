<!DOCTYPE struts PUBLIC "-//Apache Software Foundation//DTD Struts Configuration 2.0//EN" "http://struts.apache.org/dtds/struts-2.0.dtd">
<struts>
    <include file="struts-default.xml" />

    <package name="configuradorpantallas" extends="json-default" namespace="/configuradorpantallas">
            
         <interceptors>
            <interceptor-stack name="defaultStack">
                <interceptor-ref name="exception" />
                <interceptor-ref name="alias" />
                <interceptor-ref name="servletConfig" />
                <interceptor-ref name="prepare" />
                <interceptor-ref name="i18n" />
                <interceptor-ref name="chain" />
                <interceptor-ref name="modelDriven" />
                <interceptor-ref name="fileUpload" />
                <interceptor-ref name="staticParams" />
                <interceptor-ref name="params" />
                <interceptor-ref name="conversionError" />
                <interceptor-ref name="validation">
                    <param name="excludeMethods">consultar,cancel,execute,delete,edit,list</param>
                </interceptor-ref>
                <interceptor-ref name="workflow">
                    <param name="excludeMethods">input,back,cancel</param>
                </interceptor-ref>
            </interceptor-stack>
        </interceptors>
        
        
         <!--
            Redireccionamiento de action a jsp de busqueda
        -->
        <action name="entrarConfPantallas" class="buscaConjuntosPantallas">
            <result name="success">/WEB-INF/jsp/configurador/pantallas/busquedaAlfa.jsp</result>
            <result name="input">/WEB-INF/jsp/configurador/pantallas/busquedaAlfa.jsp</result>
        </action>


        <!--
            Configuracion del action para cargar los listados de procesos y clientes
            existentes en los combos con tipo de Respuesta Json 
        -->
        <action name="obtenerListasConfPantallas" class="buscaConjuntosPantallas">
            <result name="success" type="json"><param name="ignoreHierarchy">false</param></result>
        </action>


        <!-- 
            
        -->
        <action name="buscaConjuntos" class="buscaConjuntosPantallas" method="consultarJson">
            <result name="success" type="json"><param name="ignoreHierarchy">false</param></result>
        </action>

        <!--
            Configuracion del action para cargar la pantalla de Configurador de pantallas
        -->

        <action name="entrarConfigurador" class="parametrosConjuntoAction" method="cargarConfigurador">
            <result name="input">/WEB-INF/jsp/configurador/pantallas/configuradorAlfa.jsp</result>
        </action>
        
        <!--
            Configuracion del action para cargar la pantalla de Configurador de pantallas
        -->

        <action name="portalConfigurador">
            <result>/WEB-INF/jsp/configurador/pantallas/configuradorAlfa.jsp</result>
        </action>
        

        <!--
            Configuracion del action para cargar los listados de procesos y niveles
            en los combos con tipo de Respuesta Json 
       -->
        <action name="obtenerListasParamConjunto" class="parametrosConjuntoAction">
            <result name="success" type="json"><param name="ignoreHierarchy">false</param></result>
        </action>

 
        <!--
            Configuracion del action para cargar el lista de productos en el combo
            con tipo de Respuesta Json 
        -->
        <action name="obtenerListaProductos" class="parametrosConjuntoAction" method="obtenerProductos">
            <result name="success" type="json"><param name="ignoreHierarchy">false</param></result>
        </action>
        
        
         <!--
            Configuracion del action para cargar el lista de situaciones en el combo
            con tipo de Respuesta Json 
        -->
        <action name="obtenerListaSituaciones" class="parametrosConjuntoAction" method="obtieneSituaciones">
            <result name="success" type="json"><param name="ignoreHierarchy">false</param></result>
        </action>
        
                
        
        <!--
            Configuracion del action para cargar obtener datos del registro Conjunto a cargar
            con tipo de Respuesta Json 
        -->
        <action name="obtenerRegistro" class="parametrosConjuntoAction" method="obtenerRegistro">
            <result name="success" type="json"  />
        </action>
        

       
        <!--
            Redireccionamiento de action a jsp de copiarConjunto
        -->
         <action name="entrarCopiarConjunto" class="parametrosConjuntoAction" method="cargarConjuntoCopiar">
            <result name="input">/WEB-INF/jsp/configurador/pantallas/copiarConjunto.jsp</result>
       </action>

     <!--
            Configuracion del action para copiar un conjunto de pantallas
            con tipo de Respuesta Json 
        -->
          <action name="copiarConjunto" class="parametrosConjuntoAction" method="copiarConjunto">
            <result name="success" type="json" />
        </action>


        <!--
            Configuracion del action para guardar/actualizar un conjunto de pantallas
            con tipo de Respuesta Json 
        -->
          <action name="salvarConjunto" class="parametrosConjuntoAction" method="salvar">
            <result name="success" type="json"><param name="ignoreHierarchy">false</param></result>
        </action>
        
        <!--
            Configuracion del action para limpiar datos y poder crear un nuevo conjunto
            de pantallas
        -->
          <action name="nuevoConjunto" class="parametrosConjuntoAction" method="limpiar">
            <result name="input"/>
        </action>
        
        <!-- ****************** DATOS PANTALLA ***************** -->
        <!--
            Configuracion del action para cargar el lista de tipo de pantallas master en el combo
            con tipo de Respuesta Json 
        -->
        <action name="obtenerMasters" class="datosPantallaAction" method="obtenerMasterPantallas">
            <result name="success" type="json" />
        </action>
        
         <!--
            Configuracion del action para guardar/actualizar una pantalla
            con tipo de Respuesta Json 
        -->
          <action name="salvarPantalla" class="datosPantallaAction" method="salvar">
            <result name="success" type="json"><param name="ignoreHierarchy">false</param></result>
        </action>
        
        
        <action name="cargarMaster" class="datosPantallaAction" method="loadMaster">
            <result name="success" type="json"  >
                <param name="root">treeMaster</param>    
            </result>
        </action>
                
        
<!--        <action name="obtenerTreeNavegacionPantallas" class="datosPantallaAction" method="obtenerTreeNavegacionPantallas">-->
<!--            <result name="success" type="json">-->
<!--                <param name="root">treePantallas</param>-->
<!--            </result>-->
<!--        </action>-->
        
        
        
        
        <!--
            Configuracion del action para limpiar datos y poder crear una nueva pantalla
        -->
          <action name="nuevaPantalla" class="datosPantallaAction" method="limpiar">
            <result name="input"/>
        </action>
        
        <!--
            Configuracion del action para eliminar una pantalla
            con tipo de Respuesta Json 
        -->
          <action name="eliminarPantalla" class="datosPantallaAction" method="eliminar">
            <result name="success" type="json"><param name="ignoreHierarchy">false</param></result>
        </action>
        
        <!--
            Configuracion del action para cargar el lista de los elementos del arbol en el panel
            Master con tipo de Respuesta Json 
        -->
        <action name="obtenerAtributosMaster" class="parametrosConjuntoAction" method="obtenerTreeMaster">
            <result name="success" type="json">
                <param name="root">elementos</param>
            </result>
        </action>
        
        <!--
            Configuracion del action para cargar obtener datos del registro Pantalla a cargar
            con tipo de Respuesta Json 
        -->
        <action name="obtenerRegistroPantalla" class="datosPantallaAction" method="obtenerRegistroPantalla">
            <result name="success" type="json"><param name="ignoreHierarchy">false</param></result>
        </action>
        
        
         <!--
            Configuracion del action para cargar el lista de los elementos del arbol en el panel
            Navegacion de pantallas con tipo de Respuesta Json 
        -->
        <action name="obtenerTreeNavegacionPantallas" class="datosPantallaAction" method="obtenerTreeNavegacionPantallas">
            <result name="success" type="json">
                <param name="root">treePantallas</param>
            </result>
        </action>
        
        <!--
            Configuracion del action para obtener parametro de la vista previa
      
         -->
        <action name="obtenerComponente" class="vistaPreviaAction" method="obtenParametro">
            <result name="success" type="json"><param name="ignoreHierarchy">false</param></result>
               
        </action>
        
        
        <!--
            Configuracion del action para activar un conjunto de pantallas
            con tipo de Respuesta Json 
        -->
          <action name="activarConjunto" class="activacionConjuntoAction" method="activar">
            <result name="success" type="json"><param name="ignoreHierarchy">false</param></result>
        </action>
        
        
        <!-- 
		Configuracion del Action que redigira a archivos con tipo de respuesta JSON
		-->
		<action name="fileTree" class="fileTreeAction">
			<result name="RESULT_FILE_TREE">/WEB-INF/jsp/configurador/pantallas/jsonResponseFileTree.jsp</result>
			<result name="error"></result>
		</action>
        
		<action name="export" class="buscaConjuntosPantallas" method="cmdExportar">
			<result name="success" type="stream">
				<param name="contentType">${contentType}</param>
				<param name="inputName">inputStream</param>
				<param name="contentDisposition">filename="${filename}"</param>
				<param name="bufferSize">8000</param>
			</result>
		</action>
		
		<action name="vistaPreviaPantalla" class="vistaPreviaAction" method="obtienePantallaVistaPrevia" >
            <result name="success" >/resources/scripts/jsp/configurador/pantallas/vistaPreviaConfigurador-script.jsp</result>     
        </action>
        
        <action name="vistaPreviaPantalla2" class="datosPantallaAction" method="obtienePantallaVistaPrevia" >
            <result name="success" type="json"><param name="ignoreHierarchy">false</param></result>     
        </action>
        
        <action name="irVistaPreviaPantalla" class="datosPantallaAction">
            <result name="success" >/resources/scripts/jsp/configurador/pantallas/vistaPreviaConfigurador-script.jsp</result>     
        </action>

    </package>

</struts>


