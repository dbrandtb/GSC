<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts PUBLIC "-//Apache Software Foundation//DTD Struts Configuration 2.0//EN" "http://struts.apache.org/dtds/struts-2.0.dtd">

<struts>


    <include file="struts-default.xml" />                           

    <package name="estructuras" extends="json-default" namespace="/estructuras">

		<!--
		Configuracion del Action con tipo de respuesta JSON, esto generara a partir
		de los atributos la respuesta en formato JSON para el Reader de ExtJs
		-->
		<action name="buscarEstructuras" class="listaManttoEstructuraAction" method="cmdBuscarClick">
            <result type="json"><param name="ignoreHierarchy">false</param></result>
		</action>
		
		<action name="getEstructura" class="manttoEstructuraAction" method="cmdGetClick">
            <result type="json"><param name="ignoreHierarchy">false</param></result>
		</action>

		<!-- Configuración del action para los métodos del Action en java -->
	    <action name="guardarNuevaEstructura" class="manttoEstructuraAction" method="cmdAgregarClick">
	        <result type="json"><param name="ignoreHierarchy">false</param></result>
	    </action>


	    <action name="borrarEstructura" class="manttoEstructuraAction" method="cmdBorrarClick">
	        <result type="json"><param name="ignoreHierarchy">false</param></result>
	    </action>
	
	    <!-- revisar -->
        <action name="guardarEstructura" class="manttoEstructuraAction" method="cmdGuardarClick">
	        <result type="json"><param name="ignoreHierarchy">false</param></result>
	    </action>

		<action name="copiarEstructura" class="manttoEstructuraAction" method="cmdCopiarClick">
	        <result type="json"><param name="ignoreHierarchy">false</param></result>
	    </action>
	    
        <action name="irConfigurarEstructura" class="listaManttoEstructuraAction" method="cmdIrConfigurarEstructuraClick">
            <result type="chain" name="configurarEstructura">listaConfigurarEstructura</result>
        </action>
        
        <action name="exportarBusquedaEstructuras" class="listaManttoEstructuraAction" method="cmdExportEstructuraClick">
			<result name="success" type="stream">
				<param name="contentType">${contentType}</param>
				<param name="inputName">inputStream</param>
				<param name="contentDisposition">filename="${filename}"</param>
				<param name="bufferSize">4096</param>
			</result>
		</action>        


<!-- Actions para UC Configurar Estructura -->
        <action name="buscarElementosEstructura" class="listaConfigurarEstructuraAction" method="cmdBuscarClick">
           <result type="json"><param name="ignoreHierarchy">false</param></result>
       </action>


       <action name="guardarNuevoElementoEstructura" class="configurarEstructuraAction" method="cmdAgregarClick">
            <result type="json"><param name="ignoreHierarchy">false</param></result>
        </action>

        <action name="guardarElementoEstructura" class="configurarEstructuraAction" method="cmdGuardarClick" >
            <result type="json"><param name="ignoreHierarchy">false</param></result>
        </action>

         <action name="borrarElementoEstructura" class="configurarEstructuraAction" method="cmdBorrarClick">
            <result type="json"><param name="ignoreHierarchy">false</param></result>
        </action>

        <action name="getElementoEstructura" class="configurarEstructuraAction" method="cmdGetClick">
            <result type="json"><param name="ignoreHierarchy">false</param></result>
        </action>

       <action name="exportarElementoEstructura" class="listaConfigurarEstructuraAction" method="cmdExportarClick">
			<result name="success" type="stream">
				<param name="contentType">application/binary</param>
				<param name="inputName">inputStream</param>
				<param name="contentDisposition">filename="${filename}"</param>
				<param name="bufferSize">4096</param>
			</result>
	    </action>   
	


        <action name="copiarElementoEstructura" class="configurarEstructuraAction" method="cmdCopiarClick">
            <result type="json"><param name="ignoreHierarchy">false</param></result>
        </action>

        <action name="obtenerClientesElementosEstructura" class="configurarEstructuraAction" method="obtenerClientes">
           <result type="json"><param name="ignoreHierarchy">false</param></result>
        </action>
       
       	<action name="regresarEstructura" class="configurarEstructuraAction" method="cmdRegresarEstructura">
	    	<result type="chain" name="regresarAEstructura">estructuras</result>
	    </action>
     
    </package>

</struts>
