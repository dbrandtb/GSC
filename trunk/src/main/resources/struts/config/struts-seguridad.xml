<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE struts PUBLIC "-//Apache Software Foundation//DTD Struts Configuration 2.3//EN" "http://struts.apache.org/dtds/struts-2.3.dtd">

<struts>

	<package name="seguridad" namespace="/seguridad" extends="struts-default, json-default">

		<interceptors>
			<interceptor name="authenticationInterceptor" class="authenticationInterceptor" />
			<interceptor name="deviceInterceptor"         class="deviceInterceptor"/>
			<interceptor-stack name="loggingStack">
			    <interceptor-ref name="deviceInterceptor"/>
				<interceptor-ref name="authenticationInterceptor" />
				<interceptor-ref name="defaultStack" />
			</interceptor-stack>
		</interceptors>

		<action name="login">
			<interceptor-ref name="loggingStack"></interceptor-ref>
			<result name="loginform">/jsp/portal/login.jsp</result>
			<result name="loginform_movil" type="redirectAction">
                <param name="actionName">application</param>
                <param name="namespace">/touchApp</param>
            </result>
			<result name="tree" type="redirectAction">
                <param name="actionName">seleccionaRolCliente</param>
                <param name="namespace">/</param>
            </result>
            <result name="tree_movil" type="redirectAction">
                <param name="actionName">application</param>
                <param name="namespace">/touchApp</param>
                <param name="estadoSesion">arbol</param>
            </result>
			<result name="load" type="redirectAction">
                <param name="actionName">load</param>
                <param name="namespace">/</param>
            </result>
            <result name="load_movil" type="redirectAction">
                <param name="actionName">application</param>
                <param name="namespace">/touchApp</param>
                <param name="estadoSesion">menu</param>
            </result>
		</action>
		
		<action name="logout" class="autenticacionAction"
            method="logoutUsuario">
            <result name="success">/jsp/portal/login.jsp</result>
        </action>
        
        <action name="logoutJson" class="autenticacionAction" method="logoutUsuario">
            <result type="json" />
        </action>

		<!--<action name="datosPoliza"> <result>/jsp/ConsultaDatos/consultaDatosPoliza.jsp</result> 
			</action> <action name="consultaDatosSuplemento"> <result>/jsp/ConsultaDatos/consultaDatosPoliza.jsp</result> 
			</action> -->

		<action name="autenticaUsuario" class="autenticacionAction"
			method="autenticaUsuario">
			<result name="success" type="json" />
		</action>
		
		<!-- Actions temporales que utilizara GS para no pasar por el login -->
		
		<action name="cotizarSaludVital" class="cotizaSaludVitalAction" method="cotizaSaludVital">
		  <result name="success">/jsp/extjs4/asegurados.jsp</result>
        </action>
        
        <action name="accesoDirecto" class="cotizaSaludVitalAction" method="accesoDirecto">
		    <result name="cotizadorSaludVital" type="redirectAction">
                <param name="actionName">cotizacionVital</param>
                <param name="namespace">/</param>
                <param name="cdtipsit">${cdtipsit}</param>
            </result>
		    <result name="consultasSaludVital">/jsp/consultas/containerConsultasPolizas.jsp</result>
		    <result name="error">/jsp/portal/login.jsp</result>
        </action>

		<action name="pruebaWSweblogic" class="cotizaSaludVitalAction" method="pruebaWSweblogic">
		 <result name="success" type="json" />
        </action>
		
		<action name="cotizacionSaludVital" class="autenticacionAction" method="cotizacionSaludVital">
		  <result name="success" type="redirectAction">
		      <param name="actionName">seleccionaRolCliente</param>
              <param name="namespace">/seguridad</param>
		  </result>
        </action>
        <action name="seleccionaRolCliente" class="loadClientesRolesAction" method="obtenRolesClientes">
            <result name="success" type="redirectAction">
              <param name="actionName">regresaCodigo</param>
              <param name="namespace">/seguridad</param>
              <param name="codigoCliente">6442</param>
              <param name="codigoRol">EJECUTIVOCUENTA</param>
            </result>
            <result name="load" type="redirectAction">
              <param name="actionName">regresaCodigo</param>
              <param name="namespace">/seguridad</param>
              <param name="codigoCliente">6442</param>
              <param name="codigoRol">EJECUTIVOCUENTA</param>
            </result>
        </action>
        <action name="regresaCodigo" class="loadClientesRolesAction" method="obtenCodigoTree">
            <!-- <result name="success" type="json"><param name="ignoreHierarchy">false</param></result>
            <result name="confcompleta" type="json"><param name="ignoreHierarchy">false</param></result> -->
            <!-- <result name="confcompleta" type="redirectAction">
                <param name="actionName">cotizacionVital</param>
                <param name="namespace">/</param>
            </result> -->
            <result name="success" type="redirectAction">
                <param name="actionName">cotizacionVital</param>
                <param name="namespace">/</param>
            </result>
        </action>
        <!-- Fin Actions temporales -->
        
	</package>
	
	<package name="loginApp" namespace="/touchApp" extends="struts-default, json-default">
        <action name="application" class="ExternoAction" method="aplicacionMovil">
            <result name="success">/touchApp/index.jsp</result>
        </action>
    </package>

</struts>
